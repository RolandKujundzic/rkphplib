<!DOCTYPE html>
<html lang="de">
<head>
<title>Block Form Submit</title>
<meta charset="utf-8" />
<script src="../../js/rkPhpLib.js"></script>
<link rel="stylesheet" href="../../css/fv_default.css" />
<style>
form.fv {
  font-family: Arial, Helvetica;
}
</style>
</head>

<body>

<script>
function allowSubmit(el) {
	el.form.setAttribute('data-submit', 1);
}

function checkAllowSubmit(f) {
	console.log('checkAllowSubmit', f);

	if (f.getAttribute('data-submit') == 1) {
		return true;
	}
	
	setInterval(function(f) { checkAllowSubmit(f); }, 500);

	return false;	
}
</script>

<form data-submit="0" onSubmit="return checkAllowSubmit(this);">
<input type="text" name="id" value="7" />
<button type="submit" onclick="allowSubmit(this)"> allow submit </button>
<input type="submit" />
</form>

</body>
</html>

